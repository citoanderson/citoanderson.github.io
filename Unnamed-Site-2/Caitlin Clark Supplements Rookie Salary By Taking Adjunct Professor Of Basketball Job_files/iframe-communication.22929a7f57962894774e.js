(window.webpackJsonp=window.webpackJsonp||[]).push([["iframe-communication"],{"20Fs":function(e,t){var o;e.exports=o={features:null,getFeatures:function(e){if(null===o.features||e){var t,n,s,a,i,r,c={},l=(document.body.classList.length||!window.frameElement?document.body.classList:window.parent.document.body.classList)||[],d=l.length;for(i=0;i<d;i++)0===(r=l[i]).indexOf("f_")&&(t=r.indexOf("_"))<(n=r.lastIndexOf("_"))&&(s=r.substring(t+1,n-t+1),a=r.substring(n+1),c[s]=a);o.features=c}return o.features},updateFeatureLocally:function(e,t){var o=e.name,n=e.isOn?"on":"off",s=(document.body.classList.length||!window.frameElement?document.body.classList:window.parent.document.body.classList)||[],a="f_"+o+"_"+n,i="f_"+o+"_"+("on"===n?"off":"on");t&&(i="f_"+o+"_"+n),s.contains(a)?s.replace(a,i):s.add(i)},isOn:function(e){return"on"===o.value(e)},value:function(e){return o.getFeatures()[e]}}},pDBt:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,s=(n=o("20Fs"))&&n.__esModule?n:{default:n};const a=/^https?:\/\/([\w-]+\.)?(kinja.com|kinja-labs.com|localhost:7000|kinja\.localhost:9000)$|^https?:\/\/(interactives|www|\w+)?\.?(?:theonion|avclub|gizmodo|kotaku|splinternews|deadspin|jalopnik|jezebel|theroot)(?:\.com|\.localhost:9000)(?:\.global\.prod\.fastly\.net)?/,i=(e,t,o)=>{if(!e||!t)return;s.default.isOn("superuser")&&console.info(e,t);const n=document.getElementsByTagName("iframe"),a=Array.prototype.filter.call(n,(function(e){const o=decodeURI(e.src||"")||((n=decodeURI(e.dataset.src||"")).match(/^(https?:)?\/\//)?n:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+n);var n;const s=decodeURI(t);return-1!==[s,"/proxy/iframe?url="+encodeURIComponent(s)].indexOf(o)})),i=(e,t,o)=>{o.setAttribute(e,t)};["width","height"].forEach((t=>{"number"==typeof e[t]&&(a.forEach(i.bind(void 0,t,e[t])),o&&a.length&&"function"==typeof a[0].scrollIntoView&&a[0].scrollIntoView())}))};let r;var c={handleMessageEvent(e){const t=(e=>{const t=e.data,o=window.location.protocol+"//"+window.location.host;let n=!1;if((e.origin===o||e.origin.match(a))&&t){if("object"==typeof t&&Boolean(t)&&t.kinja)return t.kinja;try{n=JSON.parse(t).kinja}catch(e){}return s.default.isOn("superuser")&&console.info("Received iframe message: ",n),n}})(e);t&&(t.resizeFrame&&t.sourceUrl?i(t.resizeFrame,t.sourceUrl,t.scrollIntoView):r&&t.clientId&&r(t.clientId))},start(e){"function"==typeof e&&(r=e),window.addEventListener("message",this.handleMessageEvent),window._K_MSGS&&window._K_MSGS.forEach(this.handleMessageEvent),window.removeEventListener("message",window._K_MSG_L),delete window._K_MSG_L}};t.default=c,e.exports=t.default}}]);