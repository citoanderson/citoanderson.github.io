(window.webpackJsonp=window.webpackJsonp||[]).push([["biztools~channelSectionPage~curatedHomepage~curatedPostsPage~frontPage~gamePage~getRecommendedPosts~~a53e17ca"],{"2R4p":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserFollow=void 0;var o,l=(o=s("skmR"))&&o.__esModule?o:{default:o},r=s("lI4E");class a{constructor(e){this.type=e.type,this.id=e.id,this.displayName=e.displayName,this.screenName=e.screenName||null,this.avatar=e.avatar||null,this.canonicalHost=e.canonicalHost||null}static fromJSON(e){return new a({type:e.type,id:"User"===e.type?(0,r.createUserId)(e.id):(0,r.createBlogId)(e.id),displayName:e.displayName,screenName:e.screenName||null,avatar:e.avatar?l.default.fromJSON(e.avatar):null,canonicalHost:e.canonicalHost||null})}}t.UserFollow=a},ERzk:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class o{constructor(e){this.bio=e.bio,this.showBio=e.showBio,this.shortBio=e.shortBio,this.twitterHandle=e.twitterHandle,this.email=e.email,this.emailIsConfirmed=e.emailIsConfirmed,this.emailIsPublic=e.emailIsPublic,this.pgpKeyUrl=e.pgpKeyUrl,this.pgpFingerprint=e.pgpFingerprint,this.otrFingerprint=e.otrFingerprint}static fromJSON(e){return new o({bio:e.bio,showBio:e.showBio,shortBio:e.shortBio,twitterHandle:e.twitterHandle,email:e.email,emailIsConfirmed:e.emailIsConfirmed,emailIsPublic:e.emailIsPublic,pgpKeyUrl:e.pgpKeyUrl,pgpFingerprint:e.pgpFingerprint,otrFingerprint:e.otrFingerprint})}}t.default=o,e.exports=t.default},I3eV:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var s=n(t);if(s&&s.has(e))return s.get(e);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var a=l?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(o,r,a):o[r]=e[r]}o.default=e,s&&s.set(e,o);return o}(s("pa7b")),l=s("lI4E"),r=i(s("k5Os")),a=i(s("WWaw"));function i(e){return e&&e.__esModule?e:{default:e}}function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(n=function(e){return e?s:t})(e)}function d(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var o=s.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class u{constructor(e){d(this,"canEditPost",(e=>{if(this.isSuperuser)return!0;const{authorId:t,defaultBlogId:s}=e;return this.memberships.some((e=>{const{blogId:l,role:r,userId:a}=e,i=-1!==o.OwnerRoleValues.indexOf(r),n=l===s,d=-1!==o.ContributorRoleValues.indexOf(r)&&t===a;return n&&(i||d)}))})),this.userId=e.userId,this.isSuperuser=e.isSuperuser,this.isSales=e.isSales,this.isMarketing=e.isMarketing,this.isEditStaff=e.isEditStaff,this.memberships=e.memberships}hasRoleOnBlog(e,t){return(0,r.default)(this.memberships,e,t)}hasAccessToBlogs(e){return(0,a.default)(this.memberships,e)}static fromJSON(e){return new u({userId:(0,l.createUserId)(e.userId),isSuperuser:e.isSuperuser,isSales:e.isSales,isMarketing:e.isMarketing,isEditStaff:e.isEditStaff,memberships:e.memberships.map((e=>o.default.fromJSON(e)))})}}var f=u;t.default=f,e.exports=t.default},"KF+7":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s("lI4E");class l{constructor(e){this.id=e.id,this.amazonInsetsEnabled=e.amazonInsetsEnabled,this.adsEnabled=e.adsEnabled,this.adNetworkId=e.adNetworkId,this.adSiteName=e.adSiteName,this.indexExchangeWebSiteId=e.indexExchangeWebSiteId,this.newsletterPopupChance=e.newsletterPopupChance,this.bouncexId=e.bouncexId,this.blogNetworkId=e.blogNetworkId,this.tagsExcludedFromPartnerRss=e.tagsExcludedFromPartnerRss,this.tagsForceSynced=e.tagsForceSynced,this.adSlotsDisabled=e.adSlotsDisabled}static fromJSON(e){return new l({id:(0,o.createBlogId)(e.blogId),amazonInsetsEnabled:e.amazonInsetsEnabled,adsEnabled:e.adsEnabled,adNetworkId:e.adNetworkId,adSiteName:e.adSiteName,indexExchangeWebSiteId:e.indexExchangeWebSiteId,newsletterPopupChance:e.newsletterPopupChance,bouncexId:e.bouncexId,blogNetworkId:e.blogNetworkId?e.blogNetworkId.toString():null,tagsExcludedFromPartnerRss:e.tagsExcludedFromPartnerRss,tagsForceSynced:e.tagsForceSynced,adSlotsDisabled:e.adSlotsDisabled})}}t.default=l,e.exports=t.default},NoHp:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=class{constructor(e){this.id=e.id,this.blogId=e.blogId,this.key=e.key,this.value=e.value}},e.exports=t.default},O1lG:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userSearch=t.userByToken=t.userByName=t.updateBlogSales=t.updateBlogProperty=t.unfollow=t.unblockUserFromBlog=t.sourcepointVerify=t.sourcepointRequest=t.setScreenName=t.setIsLiveSpecialSection=t.rejectMembershipInvitation=t.isBlocked=t.getUsersProperties=t.getUsers=t.getUserProperties=t.getPermissionsByToken=t.getPermissionsById=t.getOrSetCustomCookie=t.getMembershipsForUser=t.getFollowersOf=t.getFollowedUsers=t.getFollowedBlogs=t.getFollowed=t.getFollowCounts=t.getBlogsAsLookup=t.getBlogs=t.getBlogSales=t.getBlogProperties=t.getBlogByName=t.getBlog=t.getBatchedUsers=t.getBatchedBlogs=t.getBatchedBlogSalesMetadata=t.follow=t.createBlogProperty=t.blogPropByKeyValue=t.blogPropByBlogsAndKeys=t.blogByHost=t.blockUserFromBlog=t.acceptMembershipInvitation=void 0;var o=I(s("f8ne")),l=I(s("NWgQ")),r=I(s("kMn2")),a=I(s("ZjZ4")),i=I(s("bAmA")),n=I(s("2pqj")),d=(I(s("NoHp")),I(s("KF+7"))),u=I(s("I3eV")),f=s("lI4E"),g=I(s("tnQC")),c=I(s("OiCc")),p=s("2R4p"),m=I(s("ERzk")),h=I(s("Rsny")),b=I(s("NBZd")),y=I(s("DI1U")),w=I(s("tsyB"));function I(e){return e&&e.__esModule?e:{default:e}}const S=new h.default("kinja:magma"),B=o.default.api.profileUrl;t.follow=({userId:e,targetId:t,targetType:s})=>b.default.get(b.default.fresh).then((o=>(0,w.default)(`${B}userfollow/follow`,{userId:e,targetType:s,target:t},{token:o}))).then((e=>e?p.UserFollow.fromJSON(e):null));t.unfollow=({userId:e,targetId:t,targetType:s})=>b.default.get(b.default.fresh).then((o=>(0,w.default)(`${B}userfollow/unfollow`,{userId:e,targetType:s,target:t},{token:o}))).then((e=>e?p.UserFollow.fromJSON(e):null));t.blogByHost=e=>(0,y.default)(`${B}blog/byhost/${e}`).then(n.default.fromJSON);t.userByToken=e=>(0,y.default)(`${B}user/views/byToken`,{token:e}).then(c.default.fromJSON);t.userByName=e=>(0,y.default)(`${B}user/views/byName?name=${e}`).then(c.default.fromJSON);t.getUserProperties=e=>(0,y.default)(`${B}user/publicProperties?userId=${e}`).then(m.default.fromJSON);t.getFollowCounts=e=>(0,y.default)(`${B}userfollow/views/followCounts?userId=${e}`);t.getFollowedUsers=e=>(0,y.default)(`${B}userfollow/views/followedUsers?userId=${e}`).then((e=>e.map(p.UserFollow.fromJSON)));t.getFollowedBlogs=e=>(0,y.default)(`${B}userfollow/views/followedBlogs?userId=${e}`).then((e=>e.map(p.UserFollow.fromJSON)));t.getFollowed=e=>(0,y.default)(`${B}userfollow/views/followed?${l.default.stringify(e)}`).then((e=>({items:e.items.map(p.UserFollow.fromJSON),pagination:g.default.fromJSON(e.pagination)})));t.getFollowersOf=e=>(0,y.default)(`${B}userfollow/views/followersOf?${l.default.stringify(e)}`).then((e=>({items:e.items.map(p.UserFollow.fromJSON),pagination:g.default.fromJSON(e.pagination)})));t.setScreenName=(e,t)=>b.default.get(b.default.fresh).then((s=>(0,w.default)(`${B}user/setScreenName`,{screenName:e,displayName:t},{token:s}))).then(c.default.fromJSON);t.getBlog=e=>(0,y.default)(`${B}blog/${e}`).then(n.default.fromJSON);const $=e=>e.length>0?(0,y.default)(`${B}blogs?${l.default.stringify({ids:e})}`).then((e=>e.map(n.default.fromJSON))):Promise.resolve([]);t.getBlogs=$;t.getBatchedBlogs=e=>Promise.all((0,r.default)(e,100).map($)).then(a.default);t.getBlogsAsLookup=e=>0===e.length?Promise.resolve({}):$((0,i.default)(e)).then((e=>e.reduce(((e,t)=>({...e,[t.id]:t})),{})));const k=e=>e.length>0?(0,y.default)(`${B}users?${l.default.stringify({ids:e})}`).then((e=>e.map(c.default.fromJSON))):Promise.resolve([]);t.getUsers=k;t.userSearch=(e,t,s=15)=>(0,y.default)(`${B}user/search?${l.default.stringify({q:e,blogIds:t,maxReturned:s})}`).then((e=>e.map(c.default.fromJSON)));t.getUsersProperties=e=>e.length>0?(0,y.default)(`${B}user/publicPropertiesOfUsers?${l.default.stringify({userIds:e})}`).then((e=>Object.entries(e).reduce(((e,[t,s])=>({...e,[t]:m.default.fromJSON(s)})),{}))):Promise.resolve({});t.getBatchedUsers=e=>e.length>0?Promise.all((0,r.default)(e,100).map(k)).then(a.default):Promise.resolve([]);t.blogPropByBlogsAndKeys=(e,t)=>(0,y.default)(`${B}blogprop/views/byBlogsAndKeys?${l.default.stringify({blogId:e,key:t})}`).then((e=>e.map((e=>({...e,blogId:(0,f.createBlogId)(e.blogId)})))));t.blogPropByKeyValue=(e,t)=>(0,y.default)(`${B}blogprop/views/byKeyValue?${l.default.stringify({key:e,value:JSON.stringify(t)})}`).then((e=>e.map((e=>({...e,blogId:(0,f.createBlogId)(e.blogId)})))));t.getPermissionsById=e=>(0,y.default)(`${B}permissions?${l.default.stringify({userId:e})}`).then(u.default.fromJSON);t.getPermissionsByToken=e=>(0,y.default)(`${B}permissions`,{token:e}).then(u.default.fromJSON);t.getBlogSales=e=>(0,y.default)(`${B}blogsales/${e}`).then((e=>e?d.default.fromJSON(e):null)).catch((t=>(404!==t.status&&S.warning(`Failed obtaining blog sales data for blogId:${e} from kinja-profile: ${t.status} ${t.message}`),null)));t.updateBlogSales=(e,t)=>b.default.get(b.default.fresh).then((s=>(0,w.default)(`${B}blogsales/${e}`,t,{token:s}).then((e=>e?d.default.fromJSON(e):null)).catch((t=>(404!==t.status&&S.warning(`Failed obtaining blog sales data for blogId:${e} from kinja-profile: ${t.status} ${t.message}`),null)))));t.getBatchedBlogSalesMetadata=e=>Promise.all((0,r.default)((0,i.default)(e),100).map((e=>(0,y.default)(`${B}blogsales/list?${l.default.stringify({ids:e})}`).then((e=>e.map(d.default.fromJSON))).catch((e=>(S.warning(`Failed obtaining blog sales data from kinja-profile: ${e.message}`),[])))))).then(a.default);t.getBlogProperties=e=>(0,y.default)(`${B}blogprop/views/byblog/${e}`);t.createBlogProperty=(e,t)=>(t?t():b.default.get(b.default.fresh)).then((t=>(0,w.default)(`${B}blogprop`,e,{token:t})));t.updateBlogProperty=e=>b.default.get(b.default.fresh).then((t=>(0,w.default)(`${B}blogprop/${e.id}`,e,{token:t})));t.setIsLiveSpecialSection=e=>b.default.get(b.default.fresh).then((t=>(0,w.default)(`${B}blog/setIsLiveSpecialSection`,e,{token:t}))).then(n.default.fromJSON);t.getBlogByName=e=>(0,y.default)(`${B}blog/byname/${e}`).then(n.default.fromJSON);t.getOrSetCustomCookie=e=>(0,w.default)(o.default.kinjaUrl+"/api/profile/session/customCookie",e,{credentials:"include"});t.getMembershipsForUser=e=>{const{ids:t}=e;return(0,y.default)(`${B}blogmembership/views/byUsers${s=t,s.reduce(((e,t,s)=>0===s?`?ids=${t}`:e+`&ids=${t}`),"")}`);var s};t.acceptMembershipInvitation=e=>b.default.get(b.default.fresh).then((t=>(0,w.default)(`${B}blogmembership/accept`,e,{token:t})));t.rejectMembershipInvitation=e=>b.default.get(b.default.fresh).then((t=>(0,w.default)(`${B}blogmembership/reject`,e,{token:t})));t.blockUserFromBlog=e=>b.default.get(b.default.fresh).then((t=>(0,w.default)(`${B}block/block`,e,{token:t})));t.unblockUserFromBlog=e=>b.default.get(b.default.fresh).then((t=>(0,w.default)(`${B}block/unblock`,e,{token:t})));t.isBlocked=(e,t)=>(0,y.default)(`${B}block/isBlocked?userId=${e}&blogId=${t}`);t.sourcepointRequest=e=>b.default.get(b.default.fresh).then((t=>(0,w.default)(`${B}sourcepoint/request`,e,{token:t})));t.sourcepointVerify=e=>(0,y.default)(`${B}sourcepoint/verify?requestId=${e}`)}}]);