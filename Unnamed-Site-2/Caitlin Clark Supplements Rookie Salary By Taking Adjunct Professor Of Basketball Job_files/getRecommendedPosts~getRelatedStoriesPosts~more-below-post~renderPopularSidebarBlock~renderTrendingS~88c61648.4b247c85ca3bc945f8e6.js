(window.webpackJsonp=window.webpackJsonp||[]).push([["getRecommendedPosts~getRelatedStoriesPosts~more-below-post~renderPopularSidebarBlock~renderTrendingS~88c61648"],{"+WJO":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRotatingIndex=t.PrimeNumbersStack=void 0,t.getRotatingItems=function*(e,t){let n=t;const s=o(e.length);for(const t of s)yield e[t],--n<=0&&s.return()},t.primeNumbersStack=void 0;class s{constructor(e){this.numbers=e}max(){return this.numbers[this.numbers.length-1]}push(e){this.numbers.push(e)}isPrimeNumber(e){return this.numbers.every((t=>e%t!=0))}widen(){let e=this.max()+2;for(;!this.isPrimeNumber(e);)e+=2;this.push(e)}largerThan(e){return this.numbers.find((t=>e<t))}nextAfter(e){for(;this.max()<=e;)this.widen();return this.largerThan(e)||e+1}}t.PrimeNumbersStack=s;const r=new s([2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229]);t.primeNumbersStack=r;const o=function*(e){const t=Math.round(e/4);let n=r.nextAfter(e);for(;2<=t&&n%e<t;)n=r.nextAfter(n);let s=0;for(let t=1;t<=e;t++)s=(s+n)%e,yield s};t.getRotatingIndex=o},"2m1d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterForFeeds=function(e){if(!e)return!1;return o(e)&&r.default.hasSafeHeadline(e)},t.filterForRecirc=function(e){if(!e)return!1;return Boolean(!e.hideFromRecirc&&!e.isServicePage&&r.default.hasSafeHeadline(e))},t.isNotHiddenFromFeeds=t.filterSlug=void 0;var s,r=(s=n("OAzy"))&&s.__esModule?s:{default:s};const o=e=>Boolean(e&&!e.hideFromRss&&!e.isServicePage);t.isNotHiddenFromFeeds=o;t.filterSlug=e=>e&&-1!==e.indexOf("%")?e.replace("$",""):e},"2xn0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trendingPosts=t.recentPostViews=t.mostSearchedPosts=t.excludeBlogIdsFilter=t.blogIdsFilter=void 0;var s=n("sJMx"),r=u(n("bAmA")),o=(u(n("tnQC")),n("OQvK")),i=n("+WJO");function u(e){return e&&e.__esModule?e:{default:e}}const d=e=>(0,o.postIdSearch)(e).then((e=>e.items)).then((t=>[...(0,i.getRotatingItems)(t,e.maxReturned||t.length)])).then((t=>t.map(((t,n)=>({id:t,views:(e.maxReturned||t.length)-n}))))),l=e=>(0,r.default)(e).sort().map((e=>`not:blogId:${e}`)).join(" ");t.excludeBlogIdsFilter=l;const a=({blogIds:e=[],excludeBlogs:t=[]})=>{if(1===e.length)return`blogId:${e[0]} ${l(t)}`.trim();const n=0===e.length?t:s.allBlogIds.reduce(((t,n)=>-1===e.indexOf(n)?[...t,n]:t),t);return l(n)};t.blogIdsFilter=a;t.trendingPosts=({blogIds:e,excludeBlogs:t,exclude:n=[],language:s,maxReturned:r=20})=>d({query:`\n\t\t\t${a({blogIds:e,excludeBlogs:t})}\n\t\t\t${n.length>0?`not:ids:${n.join(",")}`:""}\n\t\t\t${s?`language: ${s}`:""}\n\t\t\t${(0,o.postSearchSort)("newest")}\n\t\t`,maxReturned:r});t.mostSearchedPosts=({blogIds:e,language:t,excludeBlogs:n,exclude:s=[],maxReturned:r=20})=>d({query:`\n\t\t\t${a({blogIds:e,excludeBlogs:n})}\n\t\t\t${s.length>0?`not:ids:${s.join(",")}`:""}\n\t\t\t${t?`language: ${t}`:""}\n\t\t\t${(0,o.postSearchSort)("newest")}\n\t\t`,maxReturned:r});t.recentPostViews=({postIds:e})=>e.length>0?d({query:`ids:${e.join(",")}`}):Promise.resolve([])},G1mz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trendingPosts=t.saveUserMeta=t.recentPostViews=t.mostSearchedPosts=t.getInfo=void 0;var s=d(n("f8ne")),r=d(n("NWgQ")),o=d(n("NBZd")),i=d(n("DI1U")),u=d(n("tsyB"));function d(e){return e&&e.__esModule?e:{default:e}}const l=s.default.api.veritasUrl,a=s.default.api.timeout.default;t.trendingPosts=({blogIds:e,past:t="15 minutes",excludeBlogs:n,exclude:s,language:o,maxReturned:u=20})=>(0,i.default)(`${l}postviews/trending?${r.default.stringify({blogId:e,past:t,excludeBlog:n,exclude:s,maxReturned:u,language:o,cb:Date.now()})}`,{timeout:a});t.mostSearchedPosts=({blogIds:e,language:t,past:n="24 hours",excludeBlogs:s,exclude:o,maxReturned:u=20})=>(0,i.default)(`${l}postviews/mostSearched?${r.default.stringify({blogId:e,past:n,excludeBlog:s,exclude:o,language:t,maxReturned:u,cb:Date.now()})}`,{timeout:a});t.recentPostViews=({postIds:e})=>e.length>0?(0,i.default)(`${l}postviews/recentPostViews?${r.default.stringify({postId:e})}`,{timeout:a}):Promise.resolve([]);t.getInfo=e=>(0,i.default)(`${l}info?${r.default.stringify({pi:e})}`,{timeout:a});t.saveUserMeta=(e,t,n=o.default.fresh)=>o.default.get(n).then((n=>(0,u.default)(`${l}user/updateMeta`,{pi:e,...t},{token:n})))},vGmL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trendingPosts=t.recentPostViews=t.mostSearchedPosts=t.getInfo=void 0;var s,r=(s=n("f8ne"))&&s.__esModule?s:{default:s},o=d(n("G1mz")),i=d(n("2xn0"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var s={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(s,o,i):s[o]=e[o]}return s.default=e,n&&n.set(e,s),s}const l=r.default.isProd,a=l?o.trendingPosts:i.trendingPosts;t.trendingPosts=a;const c=l?o.mostSearchedPosts:i.mostSearchedPosts;t.mostSearchedPosts=c;const g=l?o.recentPostViews:i.recentPostViews;t.recentPostViews=g;const f=o.getInfo;t.getInfo=f}}]);