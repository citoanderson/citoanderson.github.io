(window.webpackJsonp=window.webpackJsonp||[]).push([["adEditorComponent~api-video-meta~getRelatedStoriesPosts~getShowBrowserData~in-article-selector~secon~d40bb968"],{"51cE":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;class s{constructor(t){this.videoId=t.videoId,this.score=t.score}static fromJSON(t){return new s({videoId:t.videoId,score:t.score})}}e.default=s,t.exports=e.default},Bgbo:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i("lI4E"),a=h(i("OAzy")),o=h(i("niTC")),d=h(i("skmR")),l=i("Uu19"),n=h(i("Nlp3")),u=h(i("xYR7")),r=h(i("S4Ji"));function h(t){return t&&t.__esModule?t:{default:t}}class p{constructor(t){this.id=t.id,this.status=t.status,this.metaStatus=t.metaStatus,this.captionStatus=t.captionStatus||"Hidden",this.updatedTimestamp=t.updatedTimestamp,this.title=t.title,this.description=t.description,this.blogId=t.blogId,this.categorization=t.categorization,this.tags=t.tags||[],this.publishedTimestamp=t.publishedTimestamp,this.publishTimeMillis=t.publishTimeMillis,this.language=t.language,this.monetizable=t.monetizable,this.fastlyUrl=t.fastlyUrl||"",this.renditions=t.renditions||[],this.captions=t.captions||[],this.poster=t.poster||d.default.fromJSON(l.VIDEO_DEFAULT_IMAGE),this.duration=t.duration,this.isDev=t.isDev||!1,this.ratings=t.ratings,this.postInfo=t.postInfo,this.posts=t.posts||[]}static fromJSON(t){return new p({id:t.id,status:t.status,metaStatus:t.metaStatus,captionStatus:t.captionStatus,updatedTimestamp:t.updatedTimestamp,title:t.title,description:t.description,blogId:t.blogId&&(0,s.createBlogId)(t.blogId)||void 0,categorization:t.categorization,tags:t.tags,publishedTimestamp:t.publishedTimestamp,publishTimeMillis:t.publishTimeMillis,language:t.language,monetizable:t.monetizable,fastlyUrl:t.fastlyUrl,renditions:t.renditions||[],captions:t.captions,poster:t.poster&&d.default.fromJSON(t.poster),duration:t.duration,isDev:t.isDev||!1,ratings:t.ratings,posts:t.posts?t.posts.map(a.default.fromJSON):void 0,postInfo:t.postInfo?r.default.fromJSON(t.postInfo):void 0})}toVideoMeta(){let t;return this.posts&&this.posts.length>0?t=this.posts.map((t=>new u.default({id:t.id,permalink:t.permalink,thumbnail:t.parsedFeaturedMedia?t.parsedFeaturedMedia.image:d.default.fromJSON(l.VIDEO_DEFAULT_IMAGE),headline:(0,o.default)(t),lastUpdateTimeMillis:t.lastUpdateTimeMillis}))):this.postInfo&&(t=[new u.default({id:this.postInfo.id,permalink:this.postInfo.permalink,thumbnail:this.postInfo.thumbnailId?d.default.fromJSON({id:this.postInfo.thumbnailId,format:l.VIDEO_DEFAULT_IMAGE.format}):d.default.fromJSON(l.VIDEO_DEFAULT_IMAGE),headline:this.postInfo.headline,lastUpdateTimeMillis:null})]),new n.default({id:this.id,status:this.status,metaStatus:this.metaStatus,captionStatus:this.captionStatus,updatedTimestamp:this.updatedTimestamp,title:this.title,description:this.description,blogId:this.blogId,categorization:this.categorization,tags:this.tags,addedBy:null,publishedTimestamp:this.publishedTimestamp,publishTimeMillis:this.publishTimeMillis,language:this.language,monetizable:this.monetizable,isLooping:!1,hasVideo:!0,hasAudio:!0,fastlyUrl:this.fastlyUrl,renditions:this.renditions,captions:this.captions,poster:this.poster,duration:this.duration,isDev:this.isDev,ratings:this.ratings,adschedule:null,posts:t})}}e.default=p,t.exports=e.default},Nlp3:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(i("2pqj")),a=i("lI4E"),o=n(i("skmR")),d=i("Uu19"),l=n(i("xYR7"));function n(t){return t&&t.__esModule?t:{default:t}}class u{constructor(t){this.id=t.id,this.status=t.status,this.metaStatus=t.metaStatus,this.captionStatus=t.captionStatus||"Hidden",this.updatedTimestamp=t.updatedTimestamp,this.title=t.title,this.description=t.description,this.blogId=t.blogId,this.categorization=t.categorization,this.tags=t.tags||[],this.addedBy=t.addedBy,this.publishedTimestamp=t.publishedTimestamp,this.publishTimeMillis=t.publishTimeMillis,this.language=t.language,this.monetizable=t.monetizable,this.isLooping=t.isLooping,this.hasVideo=t.hasVideo,this.hasAudio=t.hasAudio,this.fastlyUrl=t.fastlyUrl||"",this.renditions=t.renditions||[],this.captions=t.captions||[],this.renditions=t.renditions||[],this.isDev=t.isDev||!1,this.poster=t.poster||o.default.fromJSON(d.VIDEO_DEFAULT_IMAGE),this.duration=t.duration,this.isDev=t.isDev||!1,this.ratings=t.ratings,this.adschedule=t.adschedule,this.posts=t.posts||[]}static fromJSON(t){return new u({id:t.id,status:t.status,metaStatus:t.metaStatus,captionStatus:t.captionStatus,updatedTimestamp:t.updatedTimestamp,title:t.title,description:t.description,blogId:t.blogId&&(0,a.createBlogId)(t.blogId)||void 0,categorization:t.categorization,tags:t.tags,addedBy:t.addedBy,publishedTimestamp:t.publishedTimestamp,publishTimeMillis:t.publishTimeMillis,language:t.language,monetizable:t.monetizable,isLooping:t.isLooping,hasVideo:t.hasVideo,hasAudio:t.hasAudio,fastlyUrl:t.fastlyUrl,renditions:t.renditions,captions:t.captions,poster:t.poster&&o.default.fromJSON(t.poster),duration:t.duration,isDev:t.isDev,ratings:t.ratings,posts:t.posts?t.posts.map((t=>l.default.fromJSON(t))):void 0})}setAdschedule(t){return this.adschedule=t,this}get postData(){return this.posts&&this.posts.length>0?this.posts[0]:null}get blogGroup(){return s.default.getBlogGroup(this.blogId)}videoPoster(){const{postData:t}=this;return t&&t.thumbnail?t.thumbnail:this.poster}videoTitle(){const{postData:t}=this;return t&&t.headline?t.headline:this.title}videoTimestamp(){const{postData:t}=this;return t&&t.lastUpdateTimeMillis?t.lastUpdateTimeMillis:this.publishTimeMillis}videoPermalink(){const{postData:t}=this;return t&&t.permalink||""}}e.default=u,t.exports=e.default},S4Ji:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i("lI4E");class a{constructor(t){this.id=t.id,this.thumbnailId=t.thumbnailId,this.permalink=t.permalink,this.isVideo=t.isVideo,this.headline=t.headline,this.publishTimeMillis=t.publishTimeMillis,this.authorIds=t.authorIds}static fromJSON(t){return new a({id:(0,s.createPostId)(t.id),thumbnailId:t.thumbnailId,permalink:t.permalink,isVideo:t.isVideo,headline:t.headline,publishTimeMillis:t.publishTimeMillis,authorIds:t.authorIds.map(s.createUserId)})}}e.default=a,t.exports=e.default},Uu19:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VIDEO_DEFAULT_IMAGE=void 0;e.VIDEO_DEFAULT_IMAGE={id:"bg0ntny8lcxhyvamkwfq",format:"jpg"}},VHhN:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.videoSearch=e.getVideosByVideo=e.getVideosByTags=e.getVideoPageVideos=e.getRecentVideos=e.getLastEmbeddingPosts=void 0;var s=n(i("f8ne")),a=n(i("NWgQ")),o=n(i("51cE")),d=(n(i("Nlp3")),n(i("Bgbo"))),l=n(i("DI1U"));function n(t){return t&&t.__esModule?t:{default:t}}const u=s.default.api.videouploadUrl,r=`${s.default.defaultUrl}/api/core/`;e.getVideosByTags=(t,e,i)=>(0,l.default)(`${u}video/relatedByTags?${a.default.stringify({blogId:t||void 0,tags:e,maxReturned:i})}`).then((t=>t.map(o.default.fromJSON))).catch((()=>[]));e.getVideosByVideo=(t,e)=>(0,l.default)(`${u}video/relatedByVideo?${a.default.stringify({id:t,maxReturned:e})}`).then((t=>t.map(o.default.fromJSON))).catch((()=>[]));e.videoSearch=t=>(0,l.default)(`${r}post/views/videosearch?${a.default.stringify({q:t,resolvePosts:!0,sort:"PublishTime,desc"})}`).then((t=>t.map((t=>d.default.fromJSON(t).toVideoMeta()))));e.getLastEmbeddingPosts=({videoIds:t,blogId:e,videoPermalinksOnly:i=!0})=>(0,l.default)(`${r}video/lastEmbeddingPosts?${a.default.stringify({videoIds:t,blogId:e,videoPage:i})}`);e.getVideoPageVideos=({blogId:t,maxReturned:e,resolvePosts:i=!0})=>(0,l.default)(`${r}video/videoPage?${a.default.stringify({blogId:t,maxReturned:e,resolvePosts:i})}`).then((t=>t.result.map((t=>d.default.fromJSON(t).toVideoMeta()))));e.getRecentVideos=(t,e=5,i=!0)=>(0,l.default)(`${r}video/views/recentVideos?${a.default.stringify({blogId:t,maxReturned:e,usePublishTimeLimit:i,useHomepagePlaylist:!0})}`).then((t=>t.map((t=>d.default.fromJSON(t).toVideoMeta()))))},fwoJ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectEntries=void 0;e.ObjectEntries=t=>Object.keys(t).map((e=>[e,t[e]]))},niTC:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!t.headline)return"";return(0,a.default)((0,s.default)(t.headline).trim())};var s=o(i("k3HP")),a=o(i("c71r"));o(i("xYR7"));function o(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},qJ8v:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.searchVideoMeta=e.saveCustomPoster=e.isPublished=e.getVideoPostResolver=e.getLoopingSource=e.fetchVideoMetaByIds=e.fetchVideoMetaById=void 0;var s=p(i("f8ne")),a=p(i("NWgQ")),o=p(i("ZjZ4")),d=p(i("Nlp3")),l=p(i("NBZd")),n=i("VHhN"),u=p(i("DI1U")),r=p(i("tsyB")),h=i("fwoJ");function p(t){return t&&t.__esModule?t:{default:t}}const m=s.default.api.videouploadUrl,f={},c=({resolvePosts:t=!1,blogId:e})=>async i=>{if(!t)return Promise.resolve(i.map(d.default.fromJSON));let s=[];if(e)s=await(0,n.getLastEmbeddingPosts)({videoIds:i.map((t=>t.id)),blogId:e});else{const t=(t=>t.reduce(((t,e)=>{const i=e.blogId;return i&&(t[i]||(t[i]=[]),t[i].push(e.id)),t}),{}))(i),e=(0,h.ObjectEntries)(t).map((([t,e])=>(0,n.getLastEmbeddingPosts)({videoIds:e,blogId:t})));s=await Promise.all(e).then(o.default)}return i.map((t=>d.default.fromJSON({...t,posts:s.filter((e=>e.videoId===t.id))})))};e.getVideoPostResolver=c;e.fetchVideoMetaById=(t,e,i=f)=>(0,u.default)(`${m}video/${t}${e?`?cb=${Date.now()}`:""}`).then((t=>[t])).then(c(i)).then((t=>t[0]));e.fetchVideoMetaByIds=(t,e,i=f)=>t.length>0?(0,u.default)(`${m}video/byIds?${a.default.stringify({ids:t,cb:""+(e?`?cb=${Date.now()}`:"")})}`).then(c(i)):Promise.resolve([]);e.getLoopingSource=t=>(0,u.default)(`${m}video/loopingSource?id=${t}`);e.searchVideoMeta=(t,e=f)=>(0,u.default)(`${m}video/views/search?${a.default.stringify({metaStatuses:["Complete"],statuses:["Complete"],startIndex:0,maxReturned:25,sort:"PublishTime,Desc",...t})}`).then(c(e));e.isPublished=t=>(0,u.default)(`${m}video/isPublished?id=${t}`);e.saveCustomPoster=({videoId:t,poster:e},i=l.default.fresh)=>i().then((i=>(0,r.default)(`${m}video/saveCustomPoster`,{videoId:t,poster:e},{token:i})))},xYR7:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,a=i("i03R"),o=(s=i("skmR"))&&s.__esModule?s:{default:s},d=i("Uu19");class l{constructor(t){this.id=t.id,this.permalink=(0,a.rewriteUrl)(t.permalink),this.headline=t.headline,this.thumbnail=t.thumbnail||o.default.fromJSON(d.VIDEO_DEFAULT_IMAGE),this.lastUpdateTimeMillis=t.lastUpdateTimeMillis,this.duration=t.duration||0}static fromJSON(t){const{post:e}=t;return new l({id:e.id,permalink:e.permalink,headline:e.headline,thumbnail:e.thumbnail&&o.default.fromJSON(e.thumbnail),lastUpdateTimeMillis:e.lastUpdateTimeMillis})}}e.default=l,t.exports=e.default}}]);