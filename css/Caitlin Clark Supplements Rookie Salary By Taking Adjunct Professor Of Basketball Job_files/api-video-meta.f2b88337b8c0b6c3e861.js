(window.webpackJsonp=window.webpackJsonp||[]).push([["api-video-meta","newspicks","userState"],{"+Vbj":function(e,t,r){var n=r("jgJv"),a=r("lYsT"),o=r("PqlX"),s=n?n.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||a(e)||!!(s&&e&&e[s])}},IqJI:function(e,t,r){var n=r("gwRl"),a=r("+Vbj");e.exports=function e(t,r,o,s,i){var d=-1,u=t.length;for(o||(o=a),i||(i=[]);++d<u;){var l=t[d];r>0&&o(l)?r>1?e(l,r-1,o,s,i):n(i,l):s||(i[i.length]=l)}return i}},NBZd:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r("f8ne")),a=s(r("Oyao")),o=s(r("tsyB"));function s(e){return e&&e.__esModule?e:{default:e}}const i={error:{code:"DUMMY_TOKEN_ERROR",message:"Token returned was a dummy token",uid:""}},d={credentials:"include"},u=e=>()=>Promise.resolve(e),l=()=>Promise.resolve(a.default.get("KinjaToken")||"");var f={asGetter:u,asKinjaTokenGetter:e=>()=>Promise.resolve({type:"USER_TOKEN",value:e}),existing:l,fresh:()=>(0,o.default)(`${n.default.api.profileSessionUrl}token/create`,{},d).then((e=>e.token)),get:(e=l,t)=>e().then((e=>{if(t&&-1!==e.indexOf("dummy-"))throw new Error(i);return e})),newspicksFresh:()=>(0,o.default)(`${n.default.api.profileUrl}token/create`,{},d).then((e=>e.token)),toKinjaTokenGetter:e=>()=>e().then((e=>({type:"USER_TOKEN",value:e}))),toUserTokenGetter:e=>e().then((e=>{if("USER_TOKEN"!==e.type)throw new Error(`Unsupported token type - ${e.type}`);return u(e.value)}))};t.default=f,e.exports=t.default},ZjZ4:function(e,t,r){var n=r("IqJI");e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},tsyB:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r("f8ne")),a=o(r("2rXV"));function o(e){return e&&e.__esModule?e:{default:e}}const s=new(o(r("Rsny")).default)("kinja:fetch"),i=/token=[^&#]*/;var d=async(e,t,r)=>{e.match(i)&&s.warning(`Removed token in query. Use Authorization header instead. Requested url: ${e}`);const o=e.replace(i,"");s.info(`posting to ${o}`);const d=r||{};let u;try{const{headers:e,token:r,...s}=d,i={...s,method:"POST",body:d.formData?t:JSON.stringify(t),headers:e||{}};i.headers={...i.headers,Accept:"application/json"},n.default.isBrowser||(i.headers={...i.headers,"User-Agent":"kinja-magma"}),d.formData||(i.headers={...i.headers,"Content-Type":"application/json"}),r&&(i.headers={...i.headers,Authorization:`Bearer ${r}`}),n.default.isDev&&delete i.headers.cookies;const l=await(0,a.default)(o,i);u=await l.json()}catch(e){throw e}if(u.meta&&u.meta.error)throw u.meta.error;return void 0!==u.data?u.data:u};t.default=d,e.exports=t.default}}]);